<!-- Booking Form -->
<div class="card booking-form">
  <h3>Passenger Details</h3>
  <form
    action="{{ url_for('customer.book_flight', source_id=source_id, dest_id=dest_id, time=time) }}"
    method="POST"
    id="booking-form"
  >
    <!-- Hidden inputs for seats will be appended here -->
    <div id="selected-seats-container"></div>

    <!-- Main Passenger (Booker) -->
    <h4>Main Passenger</h4>
    
    <div class="form-group">
      <label class="form-label">Email</label>
      <input type="email" name="email" class="form-input" required 
             value="{{ user_details.email if user_details else (session.get('user_id') if session.get('user_id') else '') }}"
             {% if session.get('user_id') %}readonly{% endif %} />
    </div>
    <div class="form-group">
      <label class="form-label">First Name</label>
      <input type="text" name="first_name" class="form-input" required 
             value="{{ user_details.first_name if user_details else '' }}" />
    </div>
    <div class="form-group">
      <label class="form-label">Last Name</label>
      <input type="text" name="last_name" class="form-input" required 
             value="{{ user_details.last_name if user_details else '' }}" />
    </div>
    <div class="form-group">
      <label class="form-label">Phone</label>
      <input type="tel" name="phone" class="form-input" required 
             value="{{ user_details.phone_number if user_details else '' }}" />
    </div>

    <!-- Extra Passengers -->
    <div
      id="extra-passengers-container"
      class="extra-passengers-container"
    ></div>

    <div class="confirm-btn-container">
      <button type="submit" class="btn btn--accent" id="confirm-btn" disabled>
        Confirm Booking
      </button>
    </div>
  </form>
</div>
