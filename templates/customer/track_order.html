{% extends 'layout/base.html' %} {% block content %}
<div class="container">
  <div class="auth-container">
    <h2 class="auth-container__title">Track Your Order</h2>

    <form
      method="POST"
      action="{{ url_for('customer.track_order') }}"
      class="track-form"
    >
      <div class="form-group">
        <label class="form-label">Order ID:</label>
        <input
          type="text"
          name="order_code"
          required
          class="form-input"
          placeholder="e.g., 1001"
        />
      </div>

      <div class="form-group">
        <label class="form-label">Email Address:</label>
        <input
          type="email"
          name="email"
          required
          class="form-input"
          placeholder="Enter the email used for booking"
        />
      </div>

      <button type="submit" class="btn">Track Order</button>
    </form>
  </div>

  {% if order %}
  <div class="card" style="margin-top: 2rem">
    <h3 class="card__title">Order Details #{{ order.order_code }}</h3>

    <div class="order-info">
      <div class="detail-row">
        <span class="detail-label">Status:</span>
        <span
          class="detail-value badge {% if order.order_status == 'Confirmed' %}badge-success{% else %}badge-secondary{% endif %}"
        >
          {{ order.order_status }}
        </span>
      </div>
      <div class="detail-row">
        <span class="detail-label">Date:</span>
        <span class="detail-value">{{ order.order_date }}</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">Flight:</span>
        <span class="detail-value"
          >{{ order.source_airport }} -> {{ order.dest_airport }}</span
        >
      </div>
      <div class="detail-row">
        <span class="detail-label">Departure:</span>
        <span class="detail-value">{{ order.departure_time }}</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">Total Payment:</span>
        <span class="detail-value">${{ order.total_payment }}</span>
      </div>
    </div>
  </div>
  {% endif %}
</div>
{% endblock %}
