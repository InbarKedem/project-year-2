{% extends 'layout/base.html' %} {% block extra_css %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/pages/_book_flight.css') }}"
/>
{% endblock %} {% block content %}
<div class="container">
  <h2>Select Your Seat</h2>

  <div class="booking-container">
    <div class="booking-left-column">
      {% include 'customer/partials/_seat_map.html' %}
      {% include 'customer/partials/_booking_form.html' %}
    </div>
    <div class="booking-right-column">
      {% include 'customer/partials/_flight_summary.html' %}
    </div>
  </div>

  {% include 'customer/partials/_success_modal.html' %}
  
  {% if not (session.get('user_id') and session.get('role') == 'customer') %}
  {% include 'customer/partials/_booking_login_modal.html' %}
  {% endif %}
</div>

<script src="{{ url_for('static', filename='js/booking_form.js') }}"></script>
<script src="{{ url_for('static', filename='js/seat_selection.js') }}"></script>
<script>
  // Initialize seat selection with template variables
  const economyPrice = Number("{{ economy_price }}");
  const businessPrice = Number("{{ business_price }}");
  const hasEconomy = "{{ has_economy }}" === "True";
  const hasBusiness = "{{ has_business }}" === "True";
</script>
{% endblock %}
