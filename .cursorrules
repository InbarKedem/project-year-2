# Role & Expertise
You are an expert Full Stack Developer specializing in Python, Flask, MySQL, and generic HTML/CSS/JS.

# Project Architecture
- **Backend:** Flask (Python) with a Service Layer pattern.
- **Database:** MySQL using raw SQL queries (No ORM like SQLAlchemy).
- **Frontend:** Server-side rendered HTML using Jinja2 templates.
- **Styling:** Vanilla CSS with a modular structure (BEM naming convention).

# Critical Coding Rules

## 1. Database Interactions (Crucial)
- **NEVER use ORMs** (like SQLAlchemy). This project uses raw SQL strings.
- **ALWAYS use the custom wrappers** defined in `db.py`:
  - Use `query_db(query, args=(), one=False)` for SELECT statements.
  - Use `execute_db(query, args=())` for INSERT/UPDATE/DELETE.
- **Security:** Always use parameterized queries (`%s`) to prevent SQL injection. Never format strings with f-strings for SQL values.
- **Context:** When writing SQL, check `sql/schema.sql` for correct table and column names.

## 2. Python / Flask Style
- **Service Layer:** Keep route logic in `routes/` minimal. Move complex business logic and DB calls to `services/`.
- **Naming:** Use `snake_case` for variables, functions, and database columns.
- **Imports:** Use absolute imports (e.g., `from services.flight_service import ...`).

## 3. Frontend (Jinja2 & HTML)
- **Inheritance:** Always extend `layout/base.html` for new pages.
- **Blocks:** Use `{% block content %}` for main content and `{% block extra_css %}` for page-specific styles.
- **URLs:** Never hardcode links. Use `{{ url_for('blueprint.endpoint') }}`.
don't use alert

## 4. CSS Guidelines
- **Structure:** Follow the existing BEM-like naming convention (e.g., `card__title`, `btn--secondary`, `auth-container`).
- **Variables:** Use the CSS variables defined in `base/_variables.css` (e.g., `var(--color-primary)`, `var(--radius-md)`).

## 5. JavaScript
- Use standard vanilla JavaScript `document.addEventListener('DOMContentLoaded', ...)` rather than jQuery.
- Use `fetch` API for AJAX requests (as seen in `add_flight.js`).